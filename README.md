# ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© 8th - 3ì£¼ì°¨ ê³¼ì œ

[![React Version](https://img.shields.io/badge/React-v18.2.0-blue)](https://ko.reactjs.org/)
[![Package Manager Version](https://img.shields.io/badge/npm-v8.12.1-yellow)](https://www.npmjs.com/)

API ì„œë²„ì™€ í†µì‹ í•˜ì—¬ ì‘ë™í•˜ëŠ” ëŒ“ê¸€ ê¸°ëŠ¥ì„ Redux ë¥¼ í†µí•´ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

### ğŸ—“ ìˆ˜í–‰ ê¸°ê°„

> 2023.01.16 - 2022.01.19

## ğŸ“š ëª©ì°¨

- [íŒ€ ì •ë³´](#íŒ€-ì •ë³´)
- [Best Practice](#best-practice)
- [ì‹¤í–‰ ë°©ë²•](#ì‹¤í–‰-ë°©ë²•)
- [ë””ë ‰í† ë¦¬ êµ¬ì¡°](#ë””ë ‰í† ë¦¬-êµ¬ì¡°)

<br />

## íŒ€ ì •ë³´

ì›í‹°ë“œ í”„ë¦¬ì˜¨ë³´ë”© í”„ë¡ íŠ¸ì—”ë“œ ì¸í„´ì‰½ ê³¼ì • 1íŒ€ì…ë‹ˆë‹¤.

### Members

<table>
    <tr>
        <td align="center">
            <a href="https://github.com/hyejj19">
                <img src="https://avatars.githubusercontent.com/u/89173923?v=4" width="100px;" alt="ë°•í˜œì •"/>
                <br />
                <sub>
                    <b>ë°•í˜œì •</b>
                </sub>
            </a>
            <br />
            <a href="https://github.com/preOnboarding8-team1/pre-onboarding-8th-2-1/commits?author=hyejj19" title="Code">ğŸ’»</a>
        </td>
        <td align="center">
            <a href="https://github.com/minsang98">
                <img src="https://avatars.githubusercontent.com/u/64800318?v=4" width="100px;" alt="ê¹€ë¯¼ìƒ"/>
                <br />
                <sub>
                    <b>ê¹€ë¯¼ìƒ</b>
                </sub>
            </a>
            <br />
            <a href="https://github.com/preOnboarding8-team1/pre-onboarding-8th-2-1/commits?author=minsang98" title="Code">ğŸ’»</a>
        </td>
        <td align="center">
            <a href="https://github.com/kwakhyun">
                <img src="https://avatars.githubusercontent.com/u/73919235?v=4" width="100px;" alt="ê³½í˜„"/>
                <br />
                <sub>
                    <b>ê³½í˜„</b>
                </sub>
            </a>
            <br />
            <a href="https://github.com/preOnboarding8-team1/pre-onboarding-8th-2-1/commits?author=kwakhyun" title="Code">ğŸ’»</a>
        </td>
        <td align="center">
            <a href="https://github.com/badmaniacs">
                <img src="https://avatars.githubusercontent.com/u/96967183?v=4" width="100px;" alt="ë°•ê²½íƒœ"/>
                <br />
                <sub>
                    <b>ë°•ê²½íƒœ</b>
                </sub>
            </a>
            <br />
            <a href="https://github.com/preOnboarding8-team1/pre-onboarding-8th-2-1/commits?author=badmaniacs" title="Code">ğŸ’»</a>
        </td>
        <td align="center">
            <a href="https://github.com/zkzk8953">
                <img src="https://avatars.githubusercontent.com/u/78520794?s=400&u=355629856caf2969fe39e5cc7f4a07f800e90f5d&v=4" width="100px;" alt="seoungheon lee"/>
                <br />
                <sub>
                    <b>ì´ì„±í—Œ</b>
                </sub>
            </a>
            <br />
            <a href="https://github.com/preOnboarding8-team1/pre-onboarding-8th-2-1/commits?author=zkzk8953" title="Code">ğŸ’»</a>
        </td>
        <td align="center">
            <a href="https://github.com/JeongTaekCho">
                <img src="https://avatars.githubusercontent.com/u/92679073?v=4" width="100px;" alt="ì¡°ì •íƒ"/>
                <br />
                <sub>
                    <b>ì¡°ì •íƒ</b>
                </sub>
            </a>
            <br />
            <a href="https://github.com/preOnboarding8-team1/pre-onboarding-8th-2-1/commits?author=JeongTaekCho" title="Code">ğŸ’»</a>
        </td> 
        <td align="center">
            <a href="https://github.com/aydenote">
                <img src="https://avatars.githubusercontent.com/u/77476077?v=4" width="100px;" alt="ìµœìŠ¹ìˆ˜"/>
                <br />
                <sub>
                    <b>ìµœìŠ¹ìˆ˜</b>
                </sub>
            </a>
            <br />
            <a href="https://github.com/preOnboarding8-team1/pre-onboarding-8th-2-1/commits?author=aydenote" title="Code">ğŸ’»</a>
        </td>                 
    </tr>
</table>

### Notion

> https://galvanized-gecko-b10.notion.site/Code-Wiki-week-2-6d55122209b34219b595097fa55387c8 > <br />

## Best Practice

ê³¼ì œì—ì„œ ìš”êµ¬í•œ ê¸°ëŠ¥ë“¤ì˜ êµ¬í˜„ ì—¬ë¶€ ë° Best Practiceë¡œ ë„ì¶œëœ ì½”ë“œë“¤ì— ëŒ€í•´ ì„¤ëª…í•©ë‹ˆë‹¤.

---

### Assignment1

- [x] ëŒ“ê¸€ CRUD êµ¬í˜„

        <br />

  ```jsx
  // features/comments/commentSlice.ts
  // Redux ë¹„ë™ê¸° ìš”ì²­ í•¨ìˆ˜
  export const getComments = createAsyncThunk('GET_COMMENTS', async ({ url }: { url: string }) => {
    const response = await commentsAPI.get(url);
    return { comments: response.data, totalCount: response.headers['x-total-count'] };
  });

  // features/comments/commentSlice.ts
  const commentsSlice = createSlice({
    name: 'comments',
    initialState: {
      value: [],
      status: 'welcome',
      totalCounts: 0,
    },
    reducers: {},
    extraReducers(builder) {
      // getComments
      builder.addCase(getComments.pending, (state) => {
        state.status = 'loading';
      });
      builder.addCase(getComments.fulfilled, (state, action) => {
        state.value = action.payload.comments;
        state.totalCounts = +action.payload.totalCount;
        state.status = 'complete';
      });
      builder.addCase(getComments.rejected, (state) => {
        state.status = 'fail';
      });

      // updateComments
      builder.addCase(updateComment.fulfilled, (state, action) => {
        state.value = state.value.map((comment) => {
          return comment.id === action.payload.id ? { ...comment, content: action.payload.content } : comment;
        });
        state.status = 'complete';
      });
    },
  });
  ```

  > ğŸ“Œ Redux-toolkit ì„ ì‚¬ìš©í•´ ë¹„ë™ê¸° í˜¸ì¶œ api ë°ì´í„°ë¥¼ ì „ì—­ ìƒíƒœë¡œ ê´€ë¦¬í•˜ê³ , ë°ì´í„° ì¡°íšŒ, ìˆ˜ì •ì„ ìœ„í•´ createAsyncThunk ë¥¼ í™œìš©í•˜ì˜€ìŠµë‹ˆë‹¤.  
  > ğŸ“Œ

## <br />

### Assignment2

- [x] í˜ì´ì§€ë„¤ì´ì…˜ êµ¬í˜„

       <br />

  ```jsx
  // features/comments/PageList.tsx
  const PageList = () => {
    const totalCount = useSelector((state: RootState) => state.comments.totalCounts);
    const totalPageNum = Math.floor(totalCount / 5);

    const { handlePagination } = usePagination();

    const pageArray = [];

    for (let i = 1; i <= totalPageNum + 1; i++) {
      pageArray.push(
        <Page key={i} onClick={() => handlePagination(i)}>
          {i}
        </Page>
      );
    }

    return <PageListStyle>{pageArray}</PageListStyle>;
  };

  // hooks/usePagination.ts
  export const usePagination = () => {
  const dispatch = useDispatch<AppDispatch>();

  const handlePagination = (idx: number) => {
    dispatch(getComments({ url: `/comments?_page=${idx}&_limit=4&_order=desc&_sort=id` }));
  };

  return { handlePagination };
  };
  ```

  > ğŸ“Œ í˜ì´ì§€ë„¤ì´ì…˜ ë¡œì§ì„ ë‹´ë‹¹í•˜ëŠ” í›…ì„ ì‚¬ìš©í•´ ë·°-ë¡œì§ì„ ë¶„ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.  
  > ğŸ“Œ í˜ì´ì§€ ì´ë™ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ í•´ë‹¹í•˜ëŠ” í˜ì´ì§€ì— api í˜¸ì¶œì„ í•˜ì—¬ comments ì „ì—­ ìƒíƒœë¥¼ ë³€í™”ì‹œí‚¤ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

## <br />

### Assignment3

- [x] ëŒ“ê¸€ ì‘ì„±,ì‚­ì œ í›„ 1í˜ì´ì§€ë¡œ ì´ë™ ë° ì…ë ¥ í¼ ì´ˆê¸°í™”

   <br />

  ```jsx
  // pages/Main.tsx
     // feature/comments/CommentList.tsx
   const handleDelete = (id: number) => {
    commentsAPI.delete(`comments/${id}`).then(() => {
      dispatch(getComments({ url: '/comments?_page=1&_limit=4&_order=desc&_sort=id' }));
    });

    // feature/form/Form.tsx > handleSubmit
    // ëŒ“ê¸€ ì‘ì„± ë° ìˆ˜ì • ë¡œì§
    if (formData.id === -1) {
      commentsAPI.post(`/comments`, comment).then(() => {
        dispatch(getComments({ url: '/comments?_page=1&_limit=4&_order=desc&_sort=id' }));
      });
    } else {
      dispatch(updateComment({ id: formData.id, comment })).then(() => {
        dispatch(setFormData({ id: -1, author: '', content: '' }));
      });
    }
  ```

  > ğŸ“Œ delete ìš”ì²­ ë° post ìš”ì²­ í›„ then ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ì²« í˜ì´ì§€ë¥¼ ìš”ì²­í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.  
  > ğŸ“Œ ìˆ˜ì •ë°ì´í„°ë¥¼ ì „ì—­ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” form stateë¥¼ ìƒì„±í•˜ê³ , ìˆ˜ì • í›„ì— state ë° form ì„ ì´ˆê¸°í™”í•˜ì˜€ìŠµë‹ˆë‹¤.

<br />

---

## ì‹¤í–‰ ë°©ë²•

í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ë¡œì»¬ì„œë²„ì—ì„œ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œëŠ” Git ê³¼ Npm (node.jsë¥¼ í¬í•¨) ì´ ì„¤ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

1. ë ˆíŒŒì§€í† ë¦¬ í´ë¡ 

   ```
   https://github.com/preOnboarding8-team1/pre-onboarding-8th-4-1.git
   ```

2. packages ì„¤ì¹˜

   ```bash
   npm install
   ```

3. ì‹¤í–‰

   ```bash
   # client ì‹¤í–‰ : localhost:3000
   npm start

   # server ì‹¤í–‰ : localhost:4000
   npm run api
   ```

<br />

## ë””ë ‰í† ë¦¬ êµ¬ì¡°

<details>
    <summary>Repository Overview</summary>
    <div>

        â”£ ğŸ“‚Â src
          â”£ ğŸ“‚Â api
          â”ƒ â”— ğŸ“ commentsAPI.ts
          â”£ ğŸ“‚Â app
          â”ƒ â”£ ğŸ“ App.tsx
          â”ƒ â”— ğŸ“ store.ts
          â”£ ğŸ“‚Â features
          â”ƒ â”£ ğŸ“‚Â features
          â”ƒ â”ƒ â”£ ğŸ“ CommentList.tsx
          â”ƒ â”ƒ â”£ ğŸ“ commentSlice.ts
          â”ƒ â”ƒ â”— ğŸ“ PageList.tsx
          â”ƒ â”— ğŸ“‚ form
          â”ƒ   â”£ ğŸ“ Form.tsx
          â”ƒ   â”— ğŸ“ formSlice.ts
          â”£ ğŸ“‚Â hooks
          â”ƒ â”— ğŸ“ usePagination.ts
          â”£ ğŸ“‚Â pages
          â”ƒ â”— ğŸ“ Main.tsx
          â”£ ğŸ“‚Â style
          â”ƒ â”— ğŸ“ GlobalStyle.tsx
          â”£ ğŸ“‚Â types
          â”ƒ  â”— ğŸ“ types.ts
          â”£ ğŸ“‚Â utils
          â”ƒ  â”— ğŸ“ httpClient.ts
          â”— ğŸ“ index.tsx

</details>
